import streamlit as st
import pandas as pd

# í˜ì´ì§€ ì„¤ì •
st.set_page_config(page_title="26ë…„ ì£¼ì‹ì‹œì¥ ë¶„ì„", layout="wide")

# ì œëª©
st.title("ğŸ“ˆ 26ë…„ ì£¼ì‹ì‹œì¥ ë¶„ì„")

# -----------------------------
# ë”ë¯¸ ì£¼ì‹ ë°ì´í„°
# -----------------------------
data = {
    "ì¢…ëª©": ["ì‚¼ì„±ì „ì", "SKí•˜ì´ë‹‰ìŠ¤", "ë„¤ì´ë²„", "ì¹´ì¹´ì˜¤", "í˜„ëŒ€ì°¨", "LGì—ë„ˆì§€ì†”ë£¨ì…˜"],
    "25ë…„ìƒìŠ¹ë¥ (%)": [45, 60, 30, 25, 40, 50],
    "26ë…„ìƒìŠ¹ë¥ (%)": [120, 180, 110, 95, 140, 210],
    "ì•„ì´ì½˜": ["ğŸ“±", "ğŸ’¾", "ğŸŒ", "ğŸ’¬", "ğŸš—", "ğŸ”‹"]
}

df = pd.DataFrame(data)

# -----------------------------
# ìˆ˜ìµë¥  ì„ íƒ
# -----------------------------
st.subheader("ğŸ¯ ì›í•˜ëŠ” ìˆ˜ìµë¥  ì„ íƒ")

target_return = st.selectbox(
    "ëª©í‘œ ìˆ˜ìµë¥ ",
    ["100% ì´ìƒ", "150% ì´ìƒ", "200% ì´ìƒ"]
)

rate_map = {
    "100% ì´ìƒ": 100,
    "150% ì´ìƒ": 150,
    "200% ì´ìƒ": 200
}

# -----------------------------
# ì¡°ê±´ í•„í„°ë§
# -----------------------------
filtered_df = df[
    (df["25ë…„ìƒìŠ¹ë¥ (%)"] > 0) &
    (df["26ë…„ìƒìŠ¹ë¥ (%)"] >= rate_map[target_return])
]

filtered_df = filtered_df.sort_values(
    by="26ë…„ìƒìŠ¹ë¥ (%)", ascending=False
).head(5)

# -----------------------------
# ì¶”ì²œ ì¢…ëª© ì¶œë ¥
# -----------------------------
st.subheader("â­ ìƒìœ„ 5ê°œ ì¶”ì²œ ì¢…ëª©")

for _, row in filtered_df.iterrows():
    col1, col2 = st.columns([3, 1])
    with col1:
        st.markdown(
            f"### {row['ì¢…ëª©']}\n"
            f"- 25ë…„ ìƒìŠ¹ë¥ : **{row['25ë…„ìƒìŠ¹ë¥ (%)']}%**\n"
            f"- 26ë…„ ìƒìŠ¹ë¥ : **{row['26ë…„ìƒìŠ¹ë¥ (%)']}%**"
        )
    with col2:
        st.markdown(
            f"<div style='font-size:60px; text-align:center'>{row['ì•„ì´ì½˜']}</div>",
            unsafe_allow_html=True
        )

# -----------------------------
# ë‰´ìŠ¤ ì¶”ì²œ
# -----------------------------
st.divider()
st.subheader("ğŸ“° ì˜¤ëŠ˜ì˜ ê´€ë ¨ ì¦ì‹œ ë‰´ìŠ¤")

news_data = {
    "ì‚¼ì„±ì „ì": "AI ë°˜ë„ì²´ ìˆ˜ìš” ê¸‰ì¦ìœ¼ë¡œ ì‹¤ì  ì „ë§ ìƒí–¥",
    "SKí•˜ì´ë‹‰ìŠ¤": "HBM ê³µê¸‰ ë¶€ì¡±ìœ¼ë¡œ ì£¼ê°€ ê°•ì„¸ ì§€ì†",
    "ë„¤ì´ë²„": "AI ê²€ìƒ‰ ê³ ë„í™”ë¡œ ê¸€ë¡œë²Œ í™•ì¥ ê¸°ëŒ€",
    "í˜„ëŒ€ì°¨": "ì „ê¸°ì°¨ íŒë§¤ëŸ‰ ì‚¬ìƒ ìµœëŒ€ ê¸°ë¡",
    "LGì—ë„ˆì§€ì†”ë£¨ì…˜": "ë¶ë¯¸ ë°°í„°ë¦¬ ê³µê¸‰ ê³„ì•½ í™•ëŒ€"
}

for stock in filtered_df["ì¢…ëª©"]:
    if stock in news_data:
        st.markdown(f"- **{stock}**: {news_data[stock]}")
