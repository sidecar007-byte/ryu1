import streamlit as st

def main():
    # 1. í˜ì´ì§€ ì„¤ì • (ì„ íƒ ì‚¬í•­: ë ˆì´ì•„ì›ƒì„ ì¢€ ë” ë„“ê²Œ ì“¸ì§€ ì—¬ë¶€)
    st.set_page_config(page_title="ì£¼ì‹ ëŒ€ì‹œë³´ë“œ", layout="centered")

    st.title("ğŸ“ˆ ì£¼ì‹ ì •ë³´ ì…ë ¥")

    # ---------------------------------------------------------
    # [ìš”ì²­ 1] í•œêµ­ì£¼ì‹ vs ë¯¸êµ­ì£¼ì‹ ì„ íƒ (ê°€ë¡œë¡œ ë°°ì¹˜í•˜ì—¬ ê³µê°„ ì ˆì•½)
    # ---------------------------------------------------------
    stock_market = st.radio(
        "ì‹œì¥ ì„ íƒ",
        ["ğŸ‡°ğŸ‡· í•œêµ­ì£¼ì‹", "ğŸ‡ºğŸ‡¸ ë¯¸êµ­ì£¼ì‹"],
        horizontal=True  # ê°€ë¡œë¡œ ë°°ì¹˜
    )

    # ---------------------------------------------------------
    # [ìš”ì²­ 2] ì•„ì´ì½˜(ì¢…ëª©ì½”ë“œ)ê³¼ íšŒì‚¬ëª…ì„ í•œ ì¤„ì— ì¢ê²Œ ë°°ì¹˜
    # st.columns([1, 3]) -> 1:3 ë¹„ìœ¨ë¡œ ê³µê°„ì„ ë‚˜ëˆ”
    # ---------------------------------------------------------
    col1, col2 = st.columns([1, 3])

    with col1:
        # ì•„ì´ì½˜(ë˜ëŠ” ì¢…ëª©ì½”ë“œ) ì…ë ¥ ê³µê°„ - ì¢ê²Œ
        ticker = st.text_input("ì½”ë“œ(ì•„ì´ì½˜)", placeholder="ì˜ˆ: 005930")
    
    with col2:
        # íšŒì‚¬ëª… ì…ë ¥ ê³µê°„ - ë„“ê²Œ
        company_name = st.text_input("íšŒì‚¬ëª…", placeholder="ì˜ˆ: ì‚¼ì„±ì „ì")

    st.write(f"ì„ íƒì •ë³´: {stock_market} | ì½”ë“œ: {ticker} | íšŒì‚¬: {company_name}")
    
    st.divider() # êµ¬ë¶„ì„ 

    # ---------------------------------------------------------
    # [ê¸°ì¡´ ê¸°ëŠ¥] ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ì°½ í† ê¸€ (ì„¸ì…˜ ìƒíƒœ í™œìš©)
    # ---------------------------------------------------------
    if 'show_pw' not in st.session_state:
        st.session_state['show_pw'] = False

    def toggle_pw():
        st.session_state['show_pw'] = not st.session_state['show_pw']

    # ë²„íŠ¼ ë¼ë²¨ ë° ì•„ì´ì½˜ ë³€ê²½
    btn_label = "ğŸ”’ ê´€ë¦¬ì/ë¹„ë²ˆ ë‹«ê¸°" if st.session_state['show_pw'] else "ğŸ”‘ ê´€ë¦¬ì/ë¹„ë²ˆ ì—´ê¸°"
    st.button(btn_label, on_click=toggle_pw)

    # í† ê¸€ ìƒíƒœì— ë”°ë¼ ë¹„ë°€ë²ˆí˜¸ì°½ í‘œì‹œ
    if st.session_state['show_pw']:
        with st.chat_message("assistant"): # ì¡°ê¸ˆ ë” êµ¬ë¶„ì´ ì˜ ê°€ë„ë¡ ë§í’ì„  ì•ˆì— ë„£ìŒ
            pw = st.text_input("ë¹„ë°€ë²ˆí˜¸ ì…ë ¥", type="password")
            if pw == "1234":
                st.success("ì¸ì¦ ì„±ê³µ! ê´€ë¦¬ì ë©”ë‰´ê°€ í™œì„±í™”ë©ë‹ˆë‹¤.")
                # ì—¬ê¸°ì— ê´€ë¦¬ì ì „ìš© ë²„íŠ¼ ë“±ì„ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.

if __name__ == '__main__':
    main()
