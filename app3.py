import streamlit as st
import pandas as pd

st.set_page_config(layout="wide")
st.title("ğŸ“ˆ 26ë…„ ì£¼ì‹ì‹œì¥ ë¶„ì„")

# ------------------------------------------------
# ì•ˆë‚´
# ------------------------------------------------
st.info("ğŸ“Œ ë¬´ë£Œ í™˜ê²½ì—ì„œëŠ” ì‹¤ì‹œê°„ ì‹œì„¸ ëŒ€ì‹  ìµœê·¼ ì¢…ê°€ ê¸°ë°˜ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.")

# ------------------------------------------------
# ë°ì´í„° (CSV ëŒ€ì²´ ê°€ëŠ¥)
# ------------------------------------------------
df = pd.DataFrame({
    "code": ["AAPL", "MSFT", "NVDA"],
    "name": ["ì• í”Œ", "ë§ˆì´í¬ë¡œì†Œí”„íŠ¸", "ì—”ë¹„ë””ì•„"],
    "icon": ["ğŸ", "ğŸªŸ", "ğŸ®"],
    "price": [190.2, 412.6, 720.4],   # ìµœê·¼ ì¢…ê°€ (ì˜ˆì‹œ)
    "change": [1.2, -0.4, 2.8],       # ì „ì¼ ëŒ€ë¹„ %
    "return_26": [120, 90, 180]
})

# ------------------------------------------------
# ì…ë ¥
# ------------------------------------------------
investment = st.number_input("ğŸ’° íˆ¬ìê¸ˆì•¡", value=1_000_000, step=100_000)

# ------------------------------------------------
# ì¶œë ¥ (í•œ í™”ë©´)
# ------------------------------------------------
st.subheader("â­ ì¶”ì²œ ì¢…ëª© TOP 5")

for _, r in df.iterrows():
    profit = int(investment * r["return_26"] / 100)
    total = investment + profit
    color = "green" if r["change"] >= 0 else "red"

    c1, c2, c3, c4 = st.columns([0.5, 3, 2, 2])
    c1.markdown(r["icon"])
    c2.markdown(f"**{r['code']} ({r['name']})**")
    c3.markdown(
        f"<span style='color:{color}'>{r['price']}$ ({r['change']}%)</span>",
        unsafe_allow_html=True
    )
    c4.markdown(f"**{total:,}ì›**")

# ------------------------------------------------
# ì‚°ì¶œ ìˆ˜ì‹
# ------------------------------------------------
with st.expander("ğŸ“ ì‚°ì¶œ ìˆ˜ì‹"):
    st.markdown("""
- ì˜ˆìƒ ìˆ˜ìµê¸ˆ = íˆ¬ìê¸ˆì•¡ Ã— (26ë…„ ìˆ˜ìµë¥  Ã· 100)  
- ì˜ˆìƒ ì´ ê¸ˆì•¡ = íˆ¬ìê¸ˆì•¡ + ì˜ˆìƒ ìˆ˜ìµê¸ˆ
""")

# ------------------------------------------------
# ë‰´ìŠ¤
# ------------------------------------------------
st.subheader("ğŸ“° ê´€ë ¨ ë‰´ìŠ¤")

for _, r in df.iterrows():
    link = f"https://www.google.com/search?q={r['name']} ì£¼ì‹ ë‰´ìŠ¤"
    st.markdown(f"- **{r['name']}** â†’ [ë‰´ìŠ¤ ë³´ê¸°]({link})")
